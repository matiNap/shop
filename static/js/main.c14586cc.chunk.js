(this.webpackJsonpshop=this.webpackJsonpshop||[]).push([[0],{63:function(e,t,a){e.exports=a(96)},85:function(e,t,a){},86:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(37),r=a.n(l),o=a(21),s=a(56),u=a(5),i=a(7),m=a(34),d=a(9),E=a(35),p=a.n(E),b=a(46),f=a(22),h=a(28),v=a(17),O=a(42),N=(a(81),a(82),Object(h.a)({},JSON.parse(Object({NODE_ENV:"production",PUBLIC_URL:"/shop",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_FIREBASE_CONFIG)));O.initializeApp(N.firebaseConfig);var g=O.firestore(),j=O,S={lang:"US",user:null},y=Object(m.b)({name:"app",initialState:S,reducers:{setLang:function(e,t){e.lang=t.payload},setUser:function(e,t){e.user=t.payload}},extraReducers:Object(f.a)({},v.f,(function(e,t){var a=t.payload&&t.payload.app?t.payload.app:S;return Object(h.a)(Object(h.a)({},e),{},{lang:a.lang,user:a.user})}))}),w=y.actions,C=w.setLang,k=w.setUser,x=y.reducer,T=Object(d.c)({app:x}),P=a(57),z={key:"root",storage:a.n(P).a},U=Object(v.g)(z,T),W=Object(m.a)({reducer:U,devTools:!0,middleware:Object(m.c)({serializableCheck:{ignoredActions:[v.a,v.f,v.b,v.c,v.d,v.e]}})}),_=Object(v.h)(W),A=W,M=(a(85),function(){return c.a.createElement("div",null,"Main")}),B="/shop",D="".concat(B,"/women-home"),L="".concat(B,"/men-home"),R="".concat(B,"/profile"),I="".concat(B,"/orders"),F="".concat(B,"/auth"),J="".concat(B,"/auth/sign-in"),K="".concat(B,"/auth/sign-up"),Q="".concat(B,"/auth/password-reset"),H=a(4),G=a(43),V=function(){var e=Object(G.useMediaQuery)({minWidth:900}),t=Object(G.useMediaQuery)({maxWidth:900}),a=Object(G.useMediaQuery)({maxWidth:600});return{isBigScreen:e,isMediumScreen:t&&!a,isSmallScreen:a&&t}},q=(a(86),function(){return c.a.createElement(u.b,{to:B,className:"logo"},c.a.createElement("h1",null,"ShopLogo"))}),X=a(10),Y=function(e){var t=e.opened,a=e.switchOpened,n=t?"menu-icon closed":"menu-icon",l=t?"menu-icon":"menu-icon closed";return c.a.createElement("div",{className:"menu-button",onClick:a},t?c.a.createElement(X.f,{className:n,size:30}):c.a.createElement(X.c,{className:l,size:30}))},Z=(a(88),function(e){var t=e.opened,a=e.children,n=e.onClose,l=t?"side-menu opened":"side-menu";return c.a.createElement("div",{className:l},n&&c.a.createElement("div",{className:"header"},c.a.createElement(X.f,{size:30,onClick:n,className:"close"})),c.a.createElement("ul",null,a))}),$=[{title:"New arrivals",to:""},{title:"Pants",to:""},{title:"T-shirts",to:""},{title:"Jackets",to:""},{title:"Shoes",to:""},{title:"Accessories",to:""}],ee=[{title:"New arrivals",to:""},{title:"Pants",to:""},{title:"T-shirts",to:""},{title:"Jackets",to:""},{title:"Shoes",to:""},{title:"Accessories",to:""}],te=function(){var e=Object(i.g)().location.pathname===L?$:ee;return V().isBigScreen?c.a.createElement("ul",{className:"menu"},e.map((function(t,a){var n=t.title,l=t.to;return c.a.createElement("li",{key:n},c.a.createElement("div",{className:"label"},c.a.createElement(u.b,{to:l},n)),a<e.length-1&&c.a.createElement("div",{className:"menu-space"}))}))):null},ae=function(e){var t=e.path,a=e.typeName,n=Object(i.g)().location.pathname===t;return c.a.createElement(u.b,{to:t,className:n?"type selected":"type"},a)},ne=a(44),ce=a(15),le=a(23),re=a(20),oe=a(19),se=(a(89),function(e){Object(re.a)(a,e);var t=Object(oe.a)(a);function a(){var e;Object(ce.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).handleClickOutside=function(){e.props.close()},e}return Object(le.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("mouseup",this.handleClickOutside,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.handleClickOutside,!1)}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.opened;return c.a.createElement("ul",{className:a?"dropdown-opened":"dropdown-closed"},t)}}]),a}(c.a.Component)),ue=(a(90),a(91),function(e){var t=e.children,a=e.divider;return c.a.createElement("li",{className:"side-menu-item-container"},c.a.createElement("div",{className:"side-menu-item"},t),a&&c.a.createElement("div",{className:"side-menu-divider"}))}),ie=[{code:"US",label:"United States"},{code:"PL",label:"Poland"}],me=function(){var e=Object(n.useState)(!1),t=Object(H.a)(e,2),a=t[0],l=t[1],r=Object(o.c)((function(e){return e.app.lang})),s=Object(o.b)(),u=V().isBigScreen;return c.a.createElement("div",null,c.a.createElement("div",{className:"select-container"},c.a.createElement("div",{className:"flag-container",onClick:function(){return l(!a)}},c.a.createElement(ne.a,{countryCode:r,"aria-label":"Unied States",svg:!0,className:"flag-selected"})),u&&c.a.createElement(se,{opened:a,close:function(){return l(!1)}},ie.map((function(e,t){var a=e.code,n=e.label;return c.a.createElement("li",{key:a,onClick:function(){return s(C(a))},className:0===t?"flag-item-first":"flag-item"},c.a.createElement(ne.a,{countryCode:a,"aria-label":n,svg:!0,className:"flag"}),c.a.createElement("p",{className:"flag-label"},a))})))),!u&&c.a.createElement(Z,{opened:a,onClose:function(){return l(!1)}},ie.map((function(e,t){var a=e.code,n=e.label;return c.a.createElement(ue,{divider:t!==ie.length-1},c.a.createElement(ne.a,{countryCode:a,"aria-label":n,svg:!0,className:"flag-"}),c.a.createElement("p",{className:"flag-label"},a))}))))},de=function(){var e=Object(n.useState)(!1),t=Object(H.a)(e,2),a=t[0],l=t[1],r=V().isBigScreen;return c.a.createElement("div",{className:"account-menu-container"},c.a.createElement("div",{className:"account-menu"},c.a.createElement(X.e,{className:"user",size:25,onClick:function(){l(!a)}}),r&&c.a.createElement(se,{opened:a,close:function(){return l(!1)}},c.a.createElement("li",{className:"dropdown-item",style:{marginTop:0}},c.a.createElement(X.e,{size:20,className:"icon"}),c.a.createElement(u.b,{to:R,className:"label"},"Profile")),c.a.createElement("li",{className:"dropdown-item"},c.a.createElement(X.a,{size:20,className:"icon"}),c.a.createElement(u.b,{to:I,className:"label"},"Orders")),c.a.createElement("div",{className:"divider"}),c.a.createElement("li",{className:"dropdown-item"},c.a.createElement(u.b,{to:B,className:"label"},"Sign out")))),!r&&c.a.createElement(Z,{opened:a,onClose:function(){return l(!1)}},c.a.createElement(ue,{divider:!0},c.a.createElement(X.e,{size:20,className:"icon"}),c.a.createElement(u.b,{to:R,className:"label"},"Profile")),c.a.createElement(ue,{divider:!0},c.a.createElement(X.a,{size:20,className:"icon"}),c.a.createElement(u.b,{to:I,className:"label"},"Orders")),c.a.createElement(ue,null,c.a.createElement(u.b,{to:B,className:"label",style:{fontWeight:"bold"}},"Sign out"))))},Ee=function(e){var t=e.value;return c.a.createElement("div",{className:"badge"},t)},pe=function(e){var t=e.isMainPage;return c.a.createElement("div",{className:"user-menu"},!t&&c.a.createElement(c.a.Fragment,null,c.a.createElement(u.b,{to:"cart",className:"cart"},c.a.createElement(X.d,{size:25}),c.a.createElement(Ee,{value:2})),c.a.createElement("div",null,c.a.createElement(de,null))),c.a.createElement("div",{className:"select-flag"},c.a.createElement(me,null)))},be=(a(92),function(){var e=Object(i.g)().location.pathname!==B,t=V(),a=t.isBigScreen,l=t.isMediumScreen,r=t.isSmallScreen,o=Object(n.useState)(!1),s=Object(H.a)(o,2),u=s[0],m=s[1];return c.a.createElement("header",null,c.a.createElement("div",{className:"header-container"},(a||l)&&c.a.createElement("div",null,a?c.a.createElement(c.a.Fragment,null,c.a.createElement(ae,{typeName:"Women",path:D}),c.a.createElement(ae,{typeName:"Men",path:L})):c.a.createElement(Y,{opened:u,switchOpened:function(){return m(!u)}})),c.a.createElement("div",{className:"nav"},c.a.createElement(q,null),e&&c.a.createElement(te,null)),c.a.createElement(pe,{isMainPage:!e})),r&&c.a.createElement(Y,{opened:u,switchOpened:function(){return m(!u)}}),!a&&c.a.createElement(Z,{opened:u},c.a.createElement("div",null,"test")))}),fe=function(e){return function(t){return c.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},c.a.createElement(be,null),c.a.createElement(e,t))}},he=(a(93),a(61)),ve=function(e){var t=e.text,a=e.to;return c.a.createElement(u.b,{to:a,className:"auth-bottom-info"},t)},Oe=function(e){var t=e.children;return c.a.createElement("div",{className:"route-container"},c.a.createElement("div",{className:"auth-box"},t))},Ne=function(e){var t=e.children;return c.a.createElement("p",{className:"auth-error"},t)},ge=function(e){var t=e.label,a=e.onChangeText,n=e.placeholder,l=e.value,r=e.type,o=e.name;return c.a.createElement("div",{className:"auth-input-container"},c.a.createElement("label",{className:"auth-input-label"},t),c.a.createElement("input",{type:r,name:o,value:l,className:"auth-input",placeholder:n,onChange:function(e){return a(e.currentTarget.value)},autoComplete:"off"}))},je=a(108),Se=function(){return c.a.createElement("div",{className:"auth-loading-container"},c.a.createElement(je.a,null))},ye=function(e){var t=e.title;return c.a.createElement("h1",{className:"auth-title"},t)},we=function(e){return 0===e.length},Ce=function(){var e=Object(n.useState)(""),t=Object(H.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)(""),s=Object(H.a)(r,2),u=s[0],i=s[1],m=Object(o.b)(),d=Object(n.useState)(""),E=Object(H.a)(d,2),f=E[0],v=E[1],O=Object(n.useState)(!1),N=Object(H.a)(O,2),S=N[0],y=N[1],w=Object(n.useCallback)((function(e){y(!1),v(e)}),[]),C=Object(n.useCallback)((function(){y(!1)}),[]),x=Object(n.useCallback)((function(e){e.preventDefault(),we(a)||we(u)?v("Some field are empty"):(y(!0),m(function(e,t,a,n){return function(){var c=Object(b.a)(p.a.mark((function c(l){return p.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:j.auth().signInWithEmailAndPassword(e,t).then(function(){var e=Object(b.a)(p.a.mark((function e(t){var a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.user.uid,e.next=3,g.collection("users").doc(a).get();case 3:c=e.sent,l(k(Object(h.a)(Object(h.a)({},c.data()),{},{uid:a}))),n();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){switch(e.code){case"auth/wrong-password":a("Wrong password");break;case"auth/invalid-email":a("Inavlid email");break;case"auth/user-not-found":a("User not found")}}));case 1:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}(a,u,w,C)))}),[a,u]);return c.a.createElement(Oe,null,c.a.createElement("form",{onSubmit:x,className:"auth-form"},c.a.createElement(ye,{title:"Sign in"}),c.a.createElement(ge,{label:"Email",placeholder:"Enter your email",onChangeText:function(e){return l(e)},name:"email",value:a,type:"email"}),c.a.createElement(ge,{label:"Password",placeholder:"Enter password",onChangeText:function(e){return i(e)},value:u,name:"password",type:"password"}),c.a.createElement("div",{className:"reset-pass-redirect"},c.a.createElement(ve,{to:Q,text:"Forgot password?"})),c.a.createElement("div",{className:"auth-button-container"},c.a.createElement("button",{className:"auth-button"},"Sign in"))),c.a.createElement(Ne,null,f),c.a.createElement(ve,{to:K,text:"Do not have account?"}),S&&c.a.createElement(Se,null))},ke=a(50),xe=(a(94),function(e){var t=e.children,a=Object(ke.b)({config:{duration:150},opacity:1,from:{opacity:0}});return c.a.createElement(ke.a.div,{className:"popup-window",style:a},c.a.createElement("div",{className:"popup-box"},t))}),Te=function(){return c.a.createElement(xe,null,c.a.createElement("h1",null,"Success"),c.a.createElement(X.b,{size:80,className:"success-icon"}),c.a.createElement("h2",null,"Successfully created account"),c.a.createElement("button",{className:"success-button"},c.a.createElement(u.b,{to:B},"Ok")))},Pe=function(e){return 0===e.length},ze=function(){var e=Object(n.useState)(""),t=Object(H.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)(""),o=Object(H.a)(r,2),s=o[0],u=o[1],i=Object(n.useState)(""),m=Object(H.a)(i,2),d=m[0],E=m[1],p=Object(n.useState)(""),b=Object(H.a)(p,2),f=b[0],h=b[1],v=Object(n.useState)(""),O=Object(H.a)(v,2),N=O[0],S=O[1],y=Object(n.useState)(""),w=Object(H.a)(y,2),C=w[0],k=w[1],x=Object(n.useState)(!1),T=Object(H.a)(x,2),P=T[0],z=T[1],U=Object(n.useState)(!1),W=Object(H.a)(U,2),_=W[0],A=W[1],M=Object(n.useCallback)((function(e){z(!1),k(e)}),[]),B=Object(n.useCallback)((function(){z(!1),A(!0)}),[]),D=Object(n.useCallback)((function(e){e.preventDefault(),Pe(a)||Pe(s)||Pe(d)||Pe(f)||Pe(N)?k("Some field are empty"):f.length<6?k("Password must be at least 6 characters"):f!==N?k("Both password must be the smae"):(z(!0),function(e,t,a){var n=e.email,c=e.password,l=e.lastName,r=e.name;j.auth().createUserWithEmailAndPassword(n,c).then((function(e){var t=e.user.uid;g.collection("users").doc(t).set({email:n,lastName:l,name:r}),a()})).catch((function(e){switch(console.log(e.message),console.log(e.code),e.code){case"auth/invalid-email":t("Invalid email");break;case"auth/email-already-in-use":t("User is already exist")}}))}({email:a,name:s,lastName:d,password:f,rPassword:N},M,B))}),[a,s,d,f,N]);return c.a.createElement(Oe,null,c.a.createElement("form",{onSubmit:D,className:"auth-form",autoComplete:"off"},c.a.createElement(ye,{title:"Create account"}),c.a.createElement(ge,{label:"Email",placeholder:"Enter your email",onChangeText:function(e){return l(e)},name:"email",value:a}),c.a.createElement(ge,{label:"Name",placeholder:"Enter your name",onChangeText:function(e){return u(e)},name:"name",value:s}),c.a.createElement(ge,{label:"Last name",placeholder:"Enter your last name",onChangeText:function(e){return E(e)},name:"last_name",value:d}),c.a.createElement(ge,{label:"Password",placeholder:"Enter password",onChangeText:function(e){return h(e)},value:f,name:"password",type:"password"}),c.a.createElement(ge,{label:"Repeat password",placeholder:"Enter password",onChangeText:function(e){return S(e)},value:N,name:"reapt_password",type:"password"}),c.a.createElement("div",{className:"auth-button-container"},c.a.createElement("button",{className:"auth-button"},"Sign up"))),c.a.createElement(Ne,null,C),c.a.createElement(ve,{to:J,text:"Already have account?"}),P&&c.a.createElement(Se,null),_&&c.a.createElement(Te,null))},Ue=(a(95),function(){var e=Object(n.useState)(""),t=Object(H.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)(""),o=Object(H.a)(r,2),s=o[0],u=o[1],i=Object(n.useState)(!1),m=Object(H.a)(i,2),d=m[0],E=m[1],p=Object(n.useState)(!1),b=Object(H.a)(p,2),f=b[0],h=b[1],v=Object(n.useCallback)((function(e){e.preventDefault(),j.auth().sendPasswordResetEmail(a).then((function(){E(!0),h(!0)})).catch((function(e){console.log(e.code),"auth/invalid-email"===e.code?u("Inavlid email"):"auth/user-not-found"===e.code&&u("User does not exist")}))}),[a]);return c.a.createElement(Oe,null,c.a.createElement("form",{className:"auth-form",onSubmit:v},c.a.createElement(ye,{title:"Reset password"}),c.a.createElement(ge,{label:"Email",value:a,placeholder:"Enter your email",onChangeText:function(e){return l(e)},name:"email"}),c.a.createElement(Ne,null,s),c.a.createElement("button",{className:"send-button"},f?"Resend":"Send"),c.a.createElement(ve,{to:J,text:"Back to login page"})),d&&c.a.createElement(xe,null,c.a.createElement("h1",null,"Successfuly sended reset email"),c.a.createElement(X.b,{size:80,className:"success-icon"}),c.a.createElement("p",{className:"reset-info"},"Check your mailbox to reset your email"),c.a.createElement("button",{className:"popup-confirm-button",onClick:function(){E(!1),l("")}},"Ok")))}),We=function(e){var t=e.children,a=Object(he.a)(e,["children"]),n=Object(o.c)((function(e){return e.app.user}));return c.a.createElement(i.b,Object.assign({},a,{render:function(e){var a=e.location;return n?c.a.createElement(i.a,{to:{pathname:B,state:{from:a}}}):t}}))},_e=function(){return c.a.createElement("div",{className:"auth-container"},c.a.createElement("div",{className:"auth-header"},c.a.createElement(q,null),c.a.createElement(me,null)),c.a.createElement("div",{className:"route-screen"},c.a.createElement(i.d,null,c.a.createElement(We,{path:K},c.a.createElement(ze,null)),c.a.createElement(We,{path:J},c.a.createElement(Ce,null)),c.a.createElement(We,{path:Q},c.a.createElement(Ue,null)),c.a.createElement(i.b,{path:"*",component:function(){return c.a.createElement(i.a,{to:J})}}))))},Ae=function(){return c.a.createElement(o.a,{store:A},c.a.createElement(s.a,{loading:null,persistor:_},c.a.createElement(u.a,null,c.a.createElement(i.d,null,c.a.createElement(i.b,{exact:!0,path:B,component:fe(M)}),c.a.createElement(i.b,{exact:!0,path:L,component:fe((function(){return c.a.createElement("div",null,"Men home")}))}),c.a.createElement(i.b,{exact:!0,path:D,component:fe((function(){return c.a.createElement("div",null,"Women home")}))}),c.a.createElement(i.b,{path:F,component:_e})))))};r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(Ae,null)),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.c14586cc.chunk.js.map